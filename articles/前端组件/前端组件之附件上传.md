# 前端组件之文件上传

## 基础知识

### input元素

**基本用法：**

```html
<input type="file" accept="image/*">
```

**属性：**

| 属性     | 值                   | 说明                                                  |
| -------- | -------------------- | :---------------------------------------------------- |
| type     | file                 | 输入的类型，除了file，还有text、number、select、email |
| accept   | 空、image/*          | 文件的类型                                            |
| capture  | 属性不存在、capture  | 是否使用拍摄                                          |
| multiple | 属性不存在、multiple | 是否多选                                              |

**事件：**

| 事件   | 说明                       |
| ------ | -------------------------- |
| change | 选择文件后触发该事件<br /> |

#### 是否可以通过api主动选择文件

尝试：

```
input.click();
```

经过测试发现，`input.click();` 在安卓下可以正常唤起选文件上传，但是在ios下存在问题，总是多次点击后才能正常打开。考虑到ios的问题，所以只能通过input元素被动打开本地文件。

### Blob类

Blob的存在，允许我们可以通过JS直接 `操作二进制数据`。Blob对象可以看做是存放二进制数据的容器，此外还可以通过Blob设置二进制数据的MIME类型。

> MIME 多用途互联网邮件扩展类型，用于声明文件的类型。结构为 大类别/种类，例如：text/html、image/jpeg、application/json等等。



### File类 



## 开发踩坑

1、关于附件名

附件名不一定是 `name.ext` 的结构，很有可能会出现：`part1.part2.part3.ext` 的情况。所以获取后缀名的时候严格取按`.`拆分数组的最后一位。
